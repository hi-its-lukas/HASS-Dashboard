(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[433],{28787:function(e,t,a){Promise.resolve().then(a.bind(a,25582))},25582:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var n=a(57437),c=a(32955),s=a(38296),i=a(6026),l=a(54775),r=a(11005),o=a(36013),d=a(39201),x=a(37440);let m={solar:{icon:s.Z,label:"SOLAR",accent:"yellow"},battery:{icon:i.Z,label:"BATTERY",accent:"cyan"},grid:{icon:l.Z,label:"GRID",accent:"pink"},house:{icon:r.Z,label:"HOUSE",accent:"green"}};function u(e){let{type:t,value:a,unit:c="W",subLabel:s,batteryLevel:i}=e,{icon:l,label:r,accent:u}=m[t],g="battery"===t,h=g?"".concat(a,"%"):"".concat(a).concat(c);return(0,n.jsxs)(o.Z,{accent:u,className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,n.jsx)(l,{className:(0,x.cn)("w-5 h-5","text-accent-".concat(u))}),(0,n.jsx)("span",{className:"text-xs font-medium text-text-muted tracking-wider",children:r})]}),(0,n.jsx)("div",{className:"mb-1",children:(0,n.jsx)("span",{className:"text-3xl font-bold text-white",children:h})}),(0,n.jsx)("span",{className:"text-sm text-text-secondary",children:s||(g?"Charging":"Production")}),g&&void 0!==i&&(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(d.k,{value:i,color:"green"})})]})}var g=a(59562),h=a(35231),p=a(39405),y=a(2842),b=a(85475),f=a(86991);function j(){let e=(0,g.cZ)().map((e,t)=>({time:t,value:e.value,avg:e.avg}));return(0,n.jsxs)("div",{className:"card p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-text-muted uppercase tracking-wider",children:"Power Trend"}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent-cyan"}),(0,n.jsx)("span",{className:"text-text-secondary",children:"Now"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-text-muted"}),(0,n.jsx)("span",{className:"text-text-secondary",children:"Avg"})]})]})]}),(0,n.jsx)("div",{className:"h-32",children:(0,n.jsx)(h.h,{width:"100%",height:"100%",children:(0,n.jsxs)(p.T,{data:e,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"5%",stopColor:"#22d3ee",stopOpacity:.3}),(0,n.jsx)("stop",{offset:"95%",stopColor:"#22d3ee",stopOpacity:0})]})}),(0,n.jsx)(y.K,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#6b7280"},tickFormatter:e=>0===e?"-6h":12===e?"-4h":24===e?"-2h":36===e?"Now":""}),(0,n.jsx)(b.u,{contentStyle:{backgroundColor:"#151c2c",border:"none",borderRadius:"8px",fontSize:"12px"},labelStyle:{color:"#9ca3af"},itemStyle:{color:"#22d3ee"},formatter:e=>["".concat(e,"W"),"Power"]}),(0,n.jsx)(f.u,{type:"monotone",dataKey:"avg",stroke:"#6b7280",strokeWidth:1,strokeDasharray:"4 4",fill:"none"}),(0,n.jsx)(f.u,{type:"monotone",dataKey:"value",stroke:"#22d3ee",strokeWidth:2,fill:"url(#colorValue)"})]})})})]})}var v=a(43765),N=a(89627),w=a(63724),k=a(3622),E=a(31802);let Z={flame:v.Z,loader:N.Z,wind:w.Z,droplets:k.Z};function C(e){let{name:t,entityId:a,icon:s}=e,i=(0,g.E8)(e=>e.states[a]),l=(0,g.E8)(e=>e.callService),r=(null==i?void 0:i.state)==="on",o=Z[s]||v.Z,d=async e=>{await l("switch",e?"turn_on":"turn_off",a)};return(0,n.jsxs)(c.E.div,{whileTap:{scale:.98},className:(0,x.cn)("card flex items-center justify-between p-4",r&&"bg-bg-cardHover"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:(0,x.cn)("w-10 h-10 rounded-xl flex items-center justify-center",r?"bg-accent-orange/20":"bg-bg-secondary"),children:(0,n.jsx)(o,{className:(0,x.cn)("w-5 h-5",r?"text-accent-orange":"text-text-muted")})}),(0,n.jsx)("span",{className:"font-medium text-white",children:t})]}),(0,n.jsx)(E.Z,{checked:r,onChange:d})]})}var L=a(40136);function S(){let e=(0,g.TC)();return(0,n.jsxs)("div",{className:"px-4 py-6 safe-top max-w-7xl mx-auto",children:[(0,n.jsx)(c.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-6",children:(0,n.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Energy"})}),(0,n.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-6",children:[(0,n.jsxs)("div",{className:"lg:col-span-2",children:[(0,n.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-2 xl:grid-cols-4 gap-3 mb-4",children:[(0,n.jsx)(u,{type:"solar",value:e.solar,subLabel:"Production"}),(0,n.jsx)(u,{type:"battery",value:e.battery,subLabel:e.batteryPower>0?"Charging":"Discharging",batteryLevel:e.battery}),(0,n.jsx)(u,{type:"grid",value:e.grid,subLabel:e.grid>0?"Importing":"Exporting"}),(0,n.jsx)(u,{type:"house",value:e.house,subLabel:"Consumption"})]}),(0,n.jsx)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:(0,n.jsx)(j,{})})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,n.jsx)("h2",{className:"text-sm font-medium text-text-muted uppercase tracking-wider mb-3",children:"Appliances"}),(0,n.jsx)("div",{className:"space-y-2",children:L.dashboardConfig.appliances.map(e=>(0,n.jsx)(C,{name:e.name,entityId:e.entityId,icon:e.icon},e.id))})]})})]})]})}},36013:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(57437),c=a(32955),s=a(37440);let i={yellow:"bg-accent-yellow",cyan:"bg-accent-cyan",green:"bg-accent-green",pink:"bg-accent-pink",orange:"bg-accent-orange",purple:"bg-accent-purple",red:"bg-accent-red",blue:"bg-accent-blue",gradient:"bg-gradient-to-r from-accent-cyan to-accent-green"};function l(e){let{accent:t,hoverable:a=!1,className:l,children:r,...o}=e;return(0,n.jsxs)(c.E.div,{whileTap:a?{scale:.98}:void 0,className:(0,s.cn)("card relative",a&&"card-hover cursor-pointer",l),...o,children:[t&&(0,n.jsx)("div",{className:(0,s.cn)("card-accent",i[t])}),r]})}},39201:function(e,t,a){"use strict";a.d(t,{k:function(){return i}});var n=a(57437),c=a(37440);let s={cyan:"bg-accent-cyan",green:"bg-accent-green",yellow:"bg-accent-yellow",pink:"bg-accent-pink",orange:"bg-accent-orange"};function i(e){let{value:t,max:a=100,color:i="green",className:l}=e;return(0,n.jsx)("div",{className:(0,c.cn)("progress-bar",l),children:(0,n.jsx)("div",{className:(0,c.cn)("progress-fill",s[i]),style:{width:"".concat(Math.min(100,Math.max(0,t/a*100)),"%")}})})}},31802:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(57437),c=a(32955),s=a(37440);function i(e){let{checked:t,onChange:a,disabled:i}=e;return(0,n.jsx)("button",{type:"button",role:"switch","aria-checked":t,disabled:i,onClick:()=>a(!t),className:(0,s.cn)("toggle",t?"toggle-checked":"toggle-unchecked",i&&"opacity-50 cursor-not-allowed"),children:(0,n.jsx)(c.E.span,{className:"toggle-thumb",animate:{x:t?20:2},transition:{type:"spring",stiffness:500,damping:30}})})}}},function(e){e.O(0,[955,345,225,971,23,744],function(){return e(e.s=28787)}),_N_E=e.O()}]);