"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{40136:function(t,e,n){n.d(e,{dashboardConfig:function(){return a}});let a={weatherEntityId:"weather.home",lightsGroupEntityId:"group.all_lights",powerEntityId:"sensor.power_consumption",energy:{solarEntityId:"sensor.solar_power",batteryEntityId:"sensor.battery_power",batteryLevelEntityId:"sensor.battery_level",gridEntityId:"sensor.grid_power",houseEntityId:"sensor.house_power"},security:{alarmEntityId:"alarm_control_panel.home_alarm",zones:[{id:"kitchen",name:"Kitchen",entityId:"binary_sensor.kitchen_motion"},{id:"living",name:"Living Room",entityId:"binary_sensor.living_motion"},{id:"entry",name:"Entry",entityId:"binary_sensor.entry_door"}],dogModeEntityId:"input_boolean.dog_mode"},rooms:[{id:"kitchen",name:"Kitchen",floor:"ground",icon:"utensils",entityIds:["light.kitchen_main","light.kitchen_counter","switch.kitchen_hood"]},{id:"living_room",name:"Living Room",floor:"ground",icon:"sofa",entityIds:["light.living_room_main","light.living_room_lamp","switch.tv_power"]},{id:"entry",name:"Entry",floor:"ground",icon:"door-open",entityIds:["light.entry","lock.front_door"]},{id:"hallway",name:"Hallway",floor:"ground",icon:"layout",entityIds:["light.hallway"]},{id:"garage",name:"Garage",floor:"ground",icon:"warehouse",entityIds:["light.garage","cover.garage_door"]},{id:"main_bedroom",name:"Main Bedroom",floor:"upper",icon:"home",entityIds:["light.bedroom_main","light.bedroom_lamp","fan.bedroom"]},{id:"alexandras_room",name:"Alexandra's Room",floor:"upper",icon:"star",entityIds:["light.alexandra_room"]},{id:"milas_room",name:"Mila's Room",floor:"upper",icon:"heart",entityIds:["light.mila_room"]},{id:"upstairs_hall",name:"Upstairs Hall",floor:"upper",icon:"layout",entityIds:["light.upstairs_hall"]}],persons:[{id:"tatiana",name:"Tatiana",entityId:"person.tatiana",avatarUrl:"/avatars/tatiana.jpg",batteryEntityId:"sensor.tatiana_phone_battery",stepsEntityId:"sensor.tatiana_steps",distanceEntityId:"sensor.tatiana_distance",floorsEntityId:"sensor.tatiana_floors",activityEntityId:"sensor.tatiana_activity"},{id:"nico",name:"Nico",entityId:"person.nico",avatarUrl:"/avatars/nico.jpg",batteryEntityId:"sensor.nico_phone_battery",stepsEntityId:"sensor.nico_steps",distanceEntityId:"sensor.nico_distance",floorsEntityId:"sensor.nico_floors",activityEntityId:"sensor.nico_activity"},{id:"alexandra",name:"Alexandra",entityId:"person.alexandra",avatarUrl:"/avatars/alexandra.jpg",batteryEntityId:"sensor.alexandra_phone_battery",stepsEntityId:"sensor.alexandra_steps",distanceEntityId:"sensor.alexandra_distance",floorsEntityId:"sensor.alexandra_floors",activityEntityId:"sensor.alexandra_activity"},{id:"mila",name:"Mila",entityId:"person.mila",avatarUrl:"/avatars/mila.jpg",batteryEntityId:"sensor.mila_phone_battery",stepsEntityId:"sensor.mila_steps",distanceEntityId:"sensor.mila_distance",floorsEntityId:"sensor.mila_floors",activityEntityId:"sensor.mila_activity"}],appliances:[{id:"geyser",name:"Geyser",entityId:"switch.geyser",icon:"flame"},{id:"washer",name:"Washer",entityId:"switch.washer",icon:"loader"},{id:"dryer",name:"Dryer",entityId:"switch.dryer",icon:"wind"},{id:"dishwasher",name:"Dishwasher",entityId:"switch.dishwasher",icon:"droplets"}]}},59562:function(t,e,n){n.d(e,{t9:function(){return p},pX:function(){return g},TC:function(){return I},E8:function(){return u},uM:function(){return m},C5:function(){return w},TO:function(){return y},cZ:function(){return D},XW:function(){return f},l8:function(){return b},Ry:function(){return v},GE:function(){return S}});var a=n(39099);class i{async connect(){return new Promise((t,e)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("[HA WS] Connected"),this.reconnectAttempts=0,this.startHeartbeat()},this.ws.onmessage=async n=>{try{let a=JSON.parse(n.data);await this.handleMessage(a,t,e)}catch(t){console.error("[HA WS] Failed to parse message:",t)}},this.ws.onerror=t=>{console.error("[HA WS] Error:",t),e(Error("WebSocket error"))},this.ws.onclose=()=>{console.log("[HA WS] Disconnected"),this.isAuthenticated=!1,this.stopHeartbeat(),this.handleReconnect()}}catch(t){e(t instanceof Error?t:Error("Connection failed"))}})}async handleMessage(t,e,n){if("type"in t)switch(t.type){case"auth_required":let a=await this.getToken();this.send({type:"auth",access_token:a});break;case"auth_ok":console.log("[HA WS] Authenticated"),this.isAuthenticated=!0,null==e||e();break;case"auth_invalid":console.error("[HA WS] Authentication failed"),this.isAuthenticated=!1,null==n||n(Error("Authentication failed"));break;case"result":let i=this.pendingRequests.get(t.id);if(i){if(t.success)i.resolve(t.result);else{var r;i.reject(Error((null===(r=t.error)||void 0===r?void 0:r.message)||"Unknown error"))}this.pendingRequests.delete(t.id)}break;case"event":let{entity_id:s,new_state:o,old_state:l}=t.event.data;s&&o&&this.stateChangeCallbacks.forEach(t=>t(s,o,l||null))}}send(t){var e;(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))}sendCommand(t){return new Promise((e,n)=>{let a=this.messageId++;this.pendingRequests.set(a,{resolve:t=>e(t),reject:n}),this.send({...t,id:a}),setTimeout(()=>{this.pendingRequests.has(a)&&(this.pendingRequests.delete(a),n(Error("Request timeout")))},3e4)})}async getStates(){return this.sendCommand({type:"get_states"})}async subscribeToStateChanges(){await this.sendCommand({type:"subscribe_events",event_type:"state_changed"})}async callService(t){await this.sendCommand({type:"call_service",domain:t.domain,service:t.service,service_data:t.serviceData,target:t.target})}onStateChange(t){return this.stateChangeCallbacks.push(t),()=>{this.stateChangeCallbacks=this.stateChangeCallbacks.filter(e=>e!==t)}}startHeartbeat(){this.stopHeartbeat(),this.heartbeatInterval=setInterval(()=>{var t;(null===(t=this.ws)||void 0===t?void 0:t.readyState)===WebSocket.OPEN&&this.send({type:"ping"})},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}handleReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log("[HA WS] Reconnecting in ".concat(t,"ms (attempt ").concat(this.reconnectAttempts,")")),setTimeout(()=>this.connect(),t)}else console.error("[HA WS] Max reconnection attempts reached")}disconnect(){this.stopHeartbeat(),this.ws&&(this.ws.close(),this.ws=null)}get connected(){var t;return(null===(t=this.ws)||void 0===t?void 0:t.readyState)===WebSocket.OPEN&&this.isAuthenticated}constructor(t,e){this.ws=null,this.messageId=1,this.pendingRequests=new Map,this.stateChangeCallbacks=[],this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.reconnectDelay=1e3,this.heartbeatInterval=null,this.isAuthenticated=!1,this.url=t,this.getToken=e}}let r={"weather.home":{entity_id:"weather.home",state:"sunny",attributes:{temperature:31,humidity:45,friendly_name:"Home"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"group.all_lights":{entity_id:"group.all_lights",state:"on",attributes:{entity_id:["light.kitchen_main","light.kitchen_counter","light.living_room_main","light.living_room_lamp","light.entry","light.hallway","light.garage","light.bedroom_main","light.bedroom_lamp","light.alexandra_room","light.mila_room","light.upstairs_hall"],friendly_name:"All Lights"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.kitchen_main":{entity_id:"light.kitchen_main",state:"off",attributes:{friendly_name:"Kitchen Main",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.kitchen_counter":{entity_id:"light.kitchen_counter",state:"off",attributes:{friendly_name:"Kitchen Counter",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.living_room_main":{entity_id:"light.living_room_main",state:"on",attributes:{friendly_name:"Living Room Main",brightness:200},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.living_room_lamp":{entity_id:"light.living_room_lamp",state:"off",attributes:{friendly_name:"Living Room Lamp",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.entry":{entity_id:"light.entry",state:"off",attributes:{friendly_name:"Entry",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.hallway":{entity_id:"light.hallway",state:"off",attributes:{friendly_name:"Hallway",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.garage":{entity_id:"light.garage",state:"on",attributes:{friendly_name:"Garage",brightness:255},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.bedroom_main":{entity_id:"light.bedroom_main",state:"on",attributes:{friendly_name:"Main Bedroom",brightness:150},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.bedroom_lamp":{entity_id:"light.bedroom_lamp",state:"on",attributes:{friendly_name:"Bedroom Lamp",brightness:100},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.alexandra_room":{entity_id:"light.alexandra_room",state:"off",attributes:{friendly_name:"Alexandra's Room",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.mila_room":{entity_id:"light.mila_room",state:"off",attributes:{friendly_name:"Mila's Room",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"light.upstairs_hall":{entity_id:"light.upstairs_hall",state:"off",attributes:{friendly_name:"Upstairs Hall",brightness:0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.power_consumption":{entity_id:"sensor.power_consumption",state:"696",attributes:{friendly_name:"Power Consumption",unit_of_measurement:"W"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.solar_power":{entity_id:"sensor.solar_power",state:"20",attributes:{friendly_name:"Solar Power",unit_of_measurement:"W"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.battery_power":{entity_id:"sensor.battery_power",state:"150",attributes:{friendly_name:"Battery Power",unit_of_measurement:"W"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.battery_level":{entity_id:"sensor.battery_level",state:"90",attributes:{friendly_name:"Battery Level",unit_of_measurement:"%"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.grid_power":{entity_id:"sensor.grid_power",state:"736",attributes:{friendly_name:"Grid Power",unit_of_measurement:"W"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.house_power":{entity_id:"sensor.house_power",state:"702",attributes:{friendly_name:"House Power",unit_of_measurement:"W"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"alarm_control_panel.home_alarm":{entity_id:"alarm_control_panel.home_alarm",state:"disarmed",attributes:{friendly_name:"Home Alarm",code_format:"number",changed_by:"User",code_arm_required:!0},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"binary_sensor.kitchen_motion":{entity_id:"binary_sensor.kitchen_motion",state:"on",attributes:{friendly_name:"Kitchen Motion",device_class:"motion"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"binary_sensor.living_motion":{entity_id:"binary_sensor.living_motion",state:"off",attributes:{friendly_name:"Living Room Motion",device_class:"motion"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"binary_sensor.entry_door":{entity_id:"binary_sensor.entry_door",state:"off",attributes:{friendly_name:"Entry Door",device_class:"door"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"input_boolean.dog_mode":{entity_id:"input_boolean.dog_mode",state:"off",attributes:{friendly_name:"Dog Mode"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"person.tatiana":{entity_id:"person.tatiana",state:"home",attributes:{friendly_name:"Tatiana",source:"device_tracker.tatiana_phone"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"person.nico":{entity_id:"person.nico",state:"home",attributes:{friendly_name:"Nico",source:"device_tracker.nico_phone"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"person.alexandra":{entity_id:"person.alexandra",state:"home",attributes:{friendly_name:"Alexandra",source:"device_tracker.alexandra_phone"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"person.mila":{entity_id:"person.mila",state:"home",attributes:{friendly_name:"Mila",source:"device_tracker.mila_phone"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.tatiana_phone_battery":{entity_id:"sensor.tatiana_phone_battery",state:"50",attributes:{friendly_name:"Tatiana Phone Battery",unit_of_measurement:"%"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.nico_phone_battery":{entity_id:"sensor.nico_phone_battery",state:"50",attributes:{friendly_name:"Nico Phone Battery",unit_of_measurement:"%"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.alexandra_phone_battery":{entity_id:"sensor.alexandra_phone_battery",state:"45",attributes:{friendly_name:"Alexandra Phone Battery",unit_of_measurement:"%"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.mila_phone_battery":{entity_id:"sensor.mila_phone_battery",state:"25",attributes:{friendly_name:"Mila Phone Battery",unit_of_measurement:"%"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.tatiana_steps":{entity_id:"sensor.tatiana_steps",state:"884",attributes:{friendly_name:"Tatiana Steps",unit_of_measurement:"steps"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.tatiana_distance":{entity_id:"sensor.tatiana_distance",state:"0.6",attributes:{friendly_name:"Tatiana Distance",unit_of_measurement:"km"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.tatiana_floors":{entity_id:"sensor.tatiana_floors",state:"4",attributes:{friendly_name:"Tatiana Floors"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.tatiana_activity":{entity_id:"sensor.tatiana_activity",state:"walking",attributes:{friendly_name:"Tatiana Activity"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.nico_steps":{entity_id:"sensor.nico_steps",state:"1448",attributes:{friendly_name:"Nico Steps",unit_of_measurement:"steps"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.nico_distance":{entity_id:"sensor.nico_distance",state:"1.0",attributes:{friendly_name:"Nico Distance",unit_of_measurement:"km"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.nico_floors":{entity_id:"sensor.nico_floors",state:"4",attributes:{friendly_name:"Nico Floors"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.nico_activity":{entity_id:"sensor.nico_activity",state:"driving",attributes:{friendly_name:"Nico Activity"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.alexandra_steps":{entity_id:"sensor.alexandra_steps",state:"765",attributes:{friendly_name:"Alexandra Steps",unit_of_measurement:"steps"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.alexandra_distance":{entity_id:"sensor.alexandra_distance",state:"0.5",attributes:{friendly_name:"Alexandra Distance",unit_of_measurement:"km"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.alexandra_floors":{entity_id:"sensor.alexandra_floors",state:"4",attributes:{friendly_name:"Alexandra Floors"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.alexandra_activity":{entity_id:"sensor.alexandra_activity",state:"stationary",attributes:{friendly_name:"Alexandra Activity"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.mila_steps":{entity_id:"sensor.mila_steps",state:"793",attributes:{friendly_name:"Mila Steps",unit_of_measurement:"steps"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.mila_distance":{entity_id:"sensor.mila_distance",state:"0.4",attributes:{friendly_name:"Mila Distance",unit_of_measurement:"km"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.mila_floors":{entity_id:"sensor.mila_floors",state:"3",attributes:{friendly_name:"Mila Floors"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"sensor.mila_activity":{entity_id:"sensor.mila_activity",state:"stationary",attributes:{friendly_name:"Mila Activity"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"switch.geyser":{entity_id:"switch.geyser",state:"on",attributes:{friendly_name:"Geyser"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"switch.washer":{entity_id:"switch.washer",state:"off",attributes:{friendly_name:"Washer"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"switch.dryer":{entity_id:"switch.dryer",state:"off",attributes:{friendly_name:"Dryer"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()},"switch.dishwasher":{entity_id:"switch.dishwasher",state:"off",attributes:{friendly_name:"Dishwasher"},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()}};function s(){let t=[],e=Date.now();for(let n=360;n>=0;n-=10){let a=new Date(e-6e4*n),i=500+200*Math.sin(n/60),r=100*Math.random()-50;t.push({time:a.toISOString(),value:Math.round(Math.max(0,i+r)),avg:Math.round(i)})}return t}let o=[{id:"1",timestamp:new Date(Date.now()-12e4).toISOString(),camera:"Garage",type:"vehicle",label:"CAR",confidence:85,thumbnailUrl:"/thumbnails/garage.jpg"},{id:"2",timestamp:new Date(Date.now()-114e4).toISOString(),camera:"Backyard",type:"animal",label:"DOG",confidence:83,thumbnailUrl:"/thumbnails/backyard.jpg"},{id:"3",timestamp:new Date(Date.now()-132e4).toISOString(),camera:"Indoor",type:"person",label:"PERSON",confidence:84,thumbnailUrl:"/thumbnails/indoor.jpg"},{id:"4",timestamp:new Date(Date.now()-132e4).toISOString(),camera:"Indoor",type:"person",label:"PERSON",confidence:85,thumbnailUrl:"/thumbnails/indoor2.jpg"},{id:"5",timestamp:new Date(Date.now()-18e5).toISOString(),camera:"Front Door",type:"person",label:"PERSON",confidence:93,thumbnailUrl:"/thumbnails/front.jpg"}],l={events:50,people:32,vehicles:5,ai:48};var d=n(40136),_=n(20357);let c=null,u=(0,a.Ue)((t,e)=>({connected:!1,connecting:!1,error:null,useMock:!0,states:{},powerTrend:[],surveillanceEvents:[],surveillanceStats:{events:0,people:0,vehicles:0,ai:0},connect:async()=>{let{useMock:n,connecting:a,connected:d}=e();if(!a&&!d){if(t({connecting:!0,error:null}),n){t({connected:!0,connecting:!1,states:r,powerTrend:s(),surveillanceEvents:o,surveillanceStats:l});return}try{let e=_.env.NEXT_PUBLIC_HA_WS_URL;if(!e)throw Error("NEXT_PUBLIC_HA_WS_URL not configured");c=new i(e,async()=>{let t=await fetch("/api/ha/token");if(!t.ok)throw Error("Failed to get token");let{token:e}=await t.json();return e}),await c.connect();let n=await c.getStates(),a={};n.forEach(t=>{a[t.entity_id]=t}),await c.subscribeToStateChanges(),c.onStateChange((e,n)=>{t(t=>({states:{...t.states,[e]:n}}))}),t({connected:!0,connecting:!1,states:a,powerTrend:s(),surveillanceEvents:o,surveillanceStats:l})}catch(e){console.error("[HA Store] Connection error:",e),t({connected:!1,connecting:!1,error:e instanceof Error?e.message:"Connection failed"})}}},disconnect:()=>{c&&(c.disconnect(),c=null),t({connected:!1,connecting:!1})},getState:t=>e().states[t],callService:async(n,a,i,r)=>{let{useMock:s}=e();if(s){if(i){let r=e().states[i];if(r){let e=r.state;"turn_on"===a&&(e="on"),"turn_off"===a&&(e="off"),"toggle"===a&&(e="on"===r.state?"off":"on"),"alarm_control_panel"===n&&("alarm_disarm"===a&&(e="disarmed"),"alarm_arm_home"===a&&(e="armed_home"),"alarm_arm_away"===a&&(e="armed_away"),"alarm_arm_night"===a&&(e="armed_night")),t(t=>({states:{...t.states,[i]:{...r,state:e,last_changed:new Date().toISOString(),last_updated:new Date().toISOString()}}}))}}return}c&&await c.callService({domain:n,service:a,serviceData:r,target:i?{entity_id:i}:void 0})},updateState:(e,n)=>{t(t=>({states:{...t.states,[e]:n}}))}})),g=()=>u(t=>({connected:t.connected,connecting:t.connecting,error:t.error})),h=t=>u(e=>e.states[t]),m=()=>{var t;let e=h(d.dashboardConfig.lightsGroupEntityId),n=u(t=>t.states);if(!e)return{on:0,total:0};let a=null===(t=e.attributes)||void 0===t?void 0:t.entity_id,i=Array.isArray(a)?a:[];return{on:i.filter(t=>{var e;return(null===(e=n[t])||void 0===e?void 0:e.state)==="on"}).length,total:i.length}},y=()=>{let t=h(d.dashboardConfig.powerEntityId);return t&&parseInt(t.state)||0},S=()=>{var t;let e=h(d.dashboardConfig.weatherEntityId);if(!e)return{temperature:0,condition:"unknown"};let n=null===(t=e.attributes)||void 0===t?void 0:t.temperature;return{temperature:"number"==typeof n?n:0,condition:e.state}},p=()=>{let t=h(d.dashboardConfig.security.alarmEntityId);return(null==t?void 0:t.state)||"unknown"},w=()=>{let t=u(t=>t.states);return d.dashboardConfig.persons.filter(e=>{var n;return(null===(n=t[e.entityId])||void 0===n?void 0:n.state)==="home"}).length},f=t=>{let e=u(t=>t.states),n=t.filter(t=>t.startsWith("light.")).filter(t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.state)==="on"}).length;return 0===n?"All off":1===n?"1 light on":"".concat(n," lights on")},I=()=>{var t,e,n,a,i;let r=u(t=>t.states),{energy:s}=d.dashboardConfig;return{solar:parseInt((null===(t=r[s.solarEntityId])||void 0===t?void 0:t.state)||"0"),battery:parseInt((null===(e=r[s.batteryLevelEntityId])||void 0===e?void 0:e.state)||"0"),batteryPower:parseInt((null===(n=r[s.batteryEntityId])||void 0===n?void 0:n.state)||"0"),grid:parseInt((null===(a=r[s.gridEntityId])||void 0===a?void 0:a.state)||"0"),house:parseInt((null===(i=r[s.houseEntityId])||void 0===i?void 0:i.state)||"0")}},D=()=>u(t=>t.powerTrend),b=()=>u(t=>t.surveillanceEvents),v=()=>u(t=>t.surveillanceStats)},37440:function(t,e,n){function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"long"})}function r(t){let e=new Date(t),n=Math.floor((new Date().getTime()-e.getTime())/6e4),a=Math.floor(n/60);return n<1?"Just now":n<60?"".concat(n,"m ago"):a<24?"".concat(a,"h ago"):e.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function s(t){let e=new Date(t);return e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})+" • "+e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")}function l(t){return({sunny:"☀️","clear-night":"\uD83C\uDF19",partlycloudy:"⛅",cloudy:"☁️",rainy:"\uD83C\uDF27️",snowy:"❄️",fog:"\uD83C\uDF2B️",windy:"\uD83D\uDCA8",lightning:"⚡"})[t]||"\uD83C\uDF21️"}function d(t){return({disarmed:"Disarmed",armed_home:"Armed Home",armed_away:"Armed Away",armed_night:"Armed Night",arming:"Arming...",pending:"Pending",triggered:"TRIGGERED"})[t]||t}function _(t){return({walking:"\uD83D\uDEB6",running:"\uD83C\uDFC3",driving:"\uD83D\uDE97",cycling:"\uD83D\uDEB4",stationary:"\uD83E\uDDD8"})[t]||"\uD83D\uDCCD"}n.d(e,{$q:function(){return s},SY:function(){return r},X:function(){return l},cn:function(){return o},hW:function(){return _},mr:function(){return a},p6:function(){return i},xs:function(){return d}})}}]);