Rolle: Agiere als Senior Full-Stack Entwickler mit Fokus auf PWAs und Docker-Infrastruktur.

Projektziel: Erstelle eine Foto-Dokumentations-App für den Außendienst.

Technische Anforderungen:

Frontend: PWA (Progressive Web App) mit React (Vite) und Tailwind CSS.

Kamera-Funktion: Nutze die Web-Camera API. Es muss möglich sein, Fotos direkt aufzunehmen.

Bildbearbeitung: Implementiere einen Editor (nutze fabric.js oder HTML5 Canvas), in dem der Nutzer vor dem Upload auf dem Foto zeichnen (Pfeile, Kreise) und Text-Anmerkungen hinzufügen kann.

Multi-Upload: Implementiere eine "Batch"-Logik. Der Nutzer kann mehrere Fotos machen/bearbeiten und dann einen gemeinsamen Kommentar sowie Metadaten (GPS-Standort via Geolocation API) für alle ausgewählten Bilder gleichzeitig hochladen.

Backend & User-Management: Nutze PocketBase als All-in-One-Lösung (läuft perfekt in Docker). Es bietet Auth, DB und File-Storage.

Docker: Erstelle ein docker-compose.yml, das das Frontend (Nginx), das Backend (PocketBase) und einen Storage-Volume für die Bilder verbindet.

Detaillierte Features für das Backoffice:

Eine Dashboard-Ansicht (geschützt durch Login).

Eine tabellarische Übersicht aller Bilder mit Vorschaubildern, Zeitstempel, Mitarbeitername und Standort.

Eine Kartenansicht (Leaflet.js), die die Fotos basierend auf ihren GPS-Daten als Marker anzeigt.

User-Rollen (Permissions):

Role "Field": Kann Fotos aufnehmen, bearbeiten und hochladen. Sieht nur eigene Uploads.

Role "Admin": Vollzugriff auf alle Bilder, kann Benutzer anlegen, Daten exportieren und die Kartenansicht nutzen.

Arbeitsanweisung für den Code:

Setze zuerst die Datenstruktur in PocketBase (Collections: users, photos mit Feldern für image, comment, location (JSON), creator).

Erstelle das PWA-Gerüst mit Service-Worker für Offline-Support.

Implementiere das Zeichen-Tool für die Fotos.

Stelle sicher, dass beim Upload die GPS-Daten automatisch abgefragt werden.

Konfiguriere das Dockerfile und docker-compose.yml, um die gesamte Umgebung portabel zu machen.

Interaktion: Bestätige, dass du die Anforderungen verstanden hast, und beginne mit der Grundstruktur von PocketBase und dem Frontend-Setup.